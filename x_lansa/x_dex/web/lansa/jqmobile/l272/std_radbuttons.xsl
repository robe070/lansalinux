<?xml version="1.0" encoding="UTF-8"?><!--(c) 2012, 2014 LANSA--><!--jqMobile Standard radio button group--><!--$Workfile:: std_radbuttons.xsl $--><!--$UTCDate:: 2014-04-04 00:25:13Z $--><!--$Revision:: 21 $--><xsl:transform version="1.0" exclude-result-prefixes="lxml wd msxsl exslt" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data" xmlns:wd="http://www.lansa.com/2002/XSL/Weblet-Design" xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:exslt="http://exslt.org/common" xmlns="http://www.w3.org/1999/xhtml"><xsl:import href="std_types.xsl"></xsl:import><xsl:import href="std_keys.xsl"></xsl:import><xsl:import href="std_util.xsl"></xsl:import><xsl:output method="xml" omit-xml-declaration="yes" encoding="UTF-8" indent="yes"></xsl:output><lxml:data><lxml:radiobutton><lxml:item><lxml:caption>Radio 1</lxml:caption><lxml:value>Radio 1</lxml:value></lxml:item><lxml:item><lxml:caption>Radio 2</lxml:caption><lxml:value>Radio 2</lxml:value></lxml:item></lxml:radiobutton></lxml:data><xsl:template name="std_radbuttons"><xsl:param name="name"></xsl:param><xsl:param name="id" select="concat($lweb_WRName,'_',$name)"></xsl:param><xsl:param name="value"></xsl:param><xsl:param name="disabled" select="false()"></xsl:param><xsl:param name="displayMode" select="'input'"></xsl:param><xsl:param name="fieldContainWrapper" select="true()"></xsl:param><xsl:param name="form" select="''"></xsl:param><xsl:param name="hideIf" select="false()"></xsl:param><xsl:param name="hideLabel" select="false()"></xsl:param><xsl:param name="items" select="document('')/*/lxml:data/lxml:radiobutton"></xsl:param><xsl:param name="label"></xsl:param><xsl:param name="mini" select="false()"></xsl:param><xsl:param name="orientation" select="'vertical'"></xsl:param><xsl:param name="swatch" select="''"></xsl:param><xsl:param name="rdmlxDataType"></xsl:param><xsl:param name="selectorValueEq"></xsl:param><xsl:variable name="itemsSourceIsXml" select="boolean($items) and ((local-name($items) = 'caption_value_pairs') or (local-name($items) = 'picklist'))"></xsl:variable><xsl:variable name="itemsSourceIsList" select="boolean($items) and (local-name($items) = 'source_list')"></xsl:variable><xsl:if test="not($hideIf) or $lweb_design_mode"><xsl:variable name="theFieldElement"><xsl:choose><xsl:when test="$displayMode = 'output'"><label for="{$id}"><xsl:if test="$hideLabel"><xsl:attribute name="class">ui-hidden-accessible</xsl:attribute></xsl:if><xsl:value-of select="concat($label, ' ')"></xsl:value-of></label><span id="{$id}"><xsl:variable name="display_value"><xsl:choose><xsl:when test="($itemsSourceIsList) and not($lweb_design_mode)"><xsl:value-of select="key('list',$items/@name)/lxml:list-entries/lxml:entry[(($items/@selector = '') or (./lxml:column[@name=$items/@selector] = $selectorValueEq)) and (./lxml:column[@name=$items/@value] = $value)]/lxml:column[@name=$items/@caption]"></xsl:value-of></xsl:when><xsl:when test="$itemsSourceIsXml"><xsl:variable name="list_xml"><xsl:call-template name="expand_mtxt_in_xml_items.private"><xsl:with-param name="items" select="$items"></xsl:with-param></xsl:call-template></xsl:variable><xsl:choose><xsl:when test="$lweb_is_msxsl_nodeset"><xsl:value-of select="msxsl:node-set($list_xml)/*/lxml:item[($selectorValueEq='' or not(@selector_value) or @selector_value=$selectorValueEq) and lxml:value = $value]/lxml:caption"></xsl:value-of></xsl:when><xsl:when test="$lweb_is_exslt_nodeset"><xsl:value-of select="exslt:node-set($list_xml)/*/lxml:item[($selectorValueEq='' or not(@selector_value) or @selector_value=$selectorValueEq) and lxml:value = $value]/lxml:caption"></xsl:value-of></xsl:when></xsl:choose></xsl:when><xsl:otherwise><xsl:value-of select="$value"></xsl:value-of></xsl:otherwise></xsl:choose></xsl:variable><xsl:choose><xsl:when test="$display_value='' and $lweb_design_mode"><xsl:choose><xsl:when test="$value != ''"><xsl:value-of select="$value"></xsl:value-of></xsl:when><xsl:otherwise>Value of <xsl:value-of select="$name"></xsl:value-of></xsl:otherwise></xsl:choose></xsl:when><xsl:otherwise><xsl:value-of select="$display_value"></xsl:value-of></xsl:otherwise></xsl:choose><xsl:comment /></span></xsl:when><xsl:otherwise><div data-role="controlgroup" data-enhanced="true"><xsl:attribute name="class"><xsl:text>ui-controlgroup ui-corner-all ui-controlgroup-</xsl:text><xsl:value-of select="$orientation"></xsl:value-of><xsl:if test="$mini"> ui-mini</xsl:if><xsl:if test="$swatch"> ui-group-theme-<xsl:value-of select="$swatch"></xsl:value-of></xsl:if></xsl:attribute><xsl:if test="$orientation = 'horizontal'"><xsl:attribute name="data-type">horizontal</xsl:attribute></xsl:if><xsl:if test="$swatch"><xsl:attribute name="data-theme"><xsl:value-of select="$swatch"></xsl:value-of></xsl:attribute></xsl:if><xsl:if test="$mini"><xsl:attribute name="data-mini">true</xsl:attribute></xsl:if><xsl:if test="not($hideLabel)"><div role="heading" class="ui-controlgroup-label"><legend><xsl:value-of select="$label"></xsl:value-of></legend></div></xsl:if><div class="ui-controlgroup-controls"><xsl:variable name="list_xml"><xsl:if test="$itemsSourceIsXml or $lweb_design_mode"><xsl:choose><xsl:when test="boolean($items) and $itemsSourceIsXml"><xsl:call-template name="expand_mtxt_in_xml_items.private"><xsl:with-param name="items" select="$items"></xsl:with-param></xsl:call-template></xsl:when><xsl:otherwise><xsl:copy-of select="document('')/*/lxml:data/lxml:radiobutton"></xsl:copy-of></xsl:otherwise></xsl:choose></xsl:if></xsl:variable><xsl:choose><xsl:when test="$itemsSourceIsList and not($lweb_design_mode)"><xsl:call-template name="std_radbuttons_fromlist.private"><xsl:with-param name="name" select="$name"></xsl:with-param><xsl:with-param name="id" select="$id"></xsl:with-param><xsl:with-param name="value" select="$value"></xsl:with-param><xsl:with-param name="disabled" select="$disabled"></xsl:with-param><xsl:with-param name="listname" select="$items/@name"></xsl:with-param><xsl:with-param name="codefield" select="$items/@value"></xsl:with-param><xsl:with-param name="captionfield" select="$items/@caption"></xsl:with-param><xsl:with-param name="selectorField" select="$items/@selector"></xsl:with-param><xsl:with-param name="selectorValueEq" select="$selectorValueEq"></xsl:with-param></xsl:call-template></xsl:when><xsl:otherwise><xsl:choose><xsl:when test="$lweb_is_msxsl_nodeset"><xsl:call-template name="std_radbuttons.private"><xsl:with-param name="name" select="$name"></xsl:with-param><xsl:with-param name="id" select="$id"></xsl:with-param><xsl:with-param name="value" select="$value"></xsl:with-param><xsl:with-param name="disabled" select="$disabled"></xsl:with-param><xsl:with-param name="items_xml" select="msxsl:node-set($list_xml)/*/lxml:item[$selectorValueEq='' or not(@selector_value) or @selector_value=$selectorValueEq]"></xsl:with-param></xsl:call-template></xsl:when><xsl:when test="$lweb_is_exslt_nodeset"><xsl:call-template name="std_radbuttons.private"><xsl:with-param name="name" select="$name"></xsl:with-param><xsl:with-param name="id" select="$id"></xsl:with-param><xsl:with-param name="value" select="$value"></xsl:with-param><xsl:with-param name="disabled" select="$disabled"></xsl:with-param><xsl:with-param name="items_xml" select="exslt:node-set($list_xml)/*/lxml:item[$selectorValueEq='' or not(@selector_value) or @selector_value=$selectorValueEq]"></xsl:with-param></xsl:call-template></xsl:when></xsl:choose></xsl:otherwise></xsl:choose><xsl:comment /></div></div></xsl:otherwise></xsl:choose></xsl:variable><xsl:choose><xsl:when test="$fieldContainWrapper = false()"><xsl:choose><xsl:when test="$lweb_is_msxsl_nodeset"><xsl:copy-of select="msxsl:node-set($theFieldElement)"></xsl:copy-of></xsl:when><xsl:when test="$lweb_is_exslt_nodeset"><xsl:copy-of select="exslt:node-set($theFieldElement)"></xsl:copy-of></xsl:when></xsl:choose></xsl:when><xsl:otherwise><div class="ui-field-contain"><xsl:if test="$hideLabel"><xsl:attribute name="class">ui-hide-label</xsl:attribute></xsl:if><xsl:choose><xsl:when test="$lweb_is_msxsl_nodeset"><xsl:copy-of select="msxsl:node-set($theFieldElement)"></xsl:copy-of></xsl:when><xsl:when test="$lweb_is_exslt_nodeset"><xsl:copy-of select="exslt:node-set($theFieldElement)"></xsl:copy-of></xsl:when></xsl:choose><xsl:comment /></div></xsl:otherwise></xsl:choose></xsl:if></xsl:template><xsl:template name="std_radbuttons.private"><xsl:param name="name"></xsl:param><xsl:param name="id"></xsl:param><xsl:param name="value"></xsl:param><xsl:param name="disabled"></xsl:param><xsl:param name="items_xml"></xsl:param><xsl:for-each select="$items_xml"><xsl:variable name="label_id" select="concat($id, position())"></xsl:variable><div><xsl:attribute name="class"><xsl:text>ui-radio</xsl:text><xsl:if test="$disabled"> ui-state-disabled</xsl:if></xsl:attribute><xsl:variable name="currentValue" select="current()/lxml:value/text()"></xsl:variable><xsl:variable name="checked" select="boolean($value = $currentValue)"></xsl:variable><label for="{$label_id}"><xsl:attribute name="class"><xsl:text>ui-btn ui-corner-all ui-btn-inherit ui-btn-icon-left</xsl:text><xsl:choose><xsl:when test="$checked"> ui-radio-on</xsl:when><xsl:otherwise> ui-radio-off</xsl:otherwise></xsl:choose></xsl:attribute><xsl:value-of select="current()/lxml:caption"></xsl:value-of></label><input id="{$label_id}" name="{$name}" type="radio" value="{$currentValue}" data-enhanced="true"><xsl:if test="$disabled"><xsl:attribute name="disabled">true</xsl:attribute></xsl:if><xsl:if test="$checked"><xsl:attribute name="checked">checked</xsl:attribute></xsl:if></input></div></xsl:for-each></xsl:template><xsl:template name="std_radbuttons_fromlist.private"><xsl:param name="name"></xsl:param><xsl:param name="id"></xsl:param><xsl:param name="value"></xsl:param><xsl:param name="disabled"></xsl:param><xsl:param name="listname"></xsl:param><xsl:param name="codefield"></xsl:param><xsl:param name="captionfield"></xsl:param><xsl:param name="selectorField"></xsl:param><xsl:param name="selectorValueEq"></xsl:param><xsl:variable name="firstRow" select="key('list',$listname)/lxml:list-entries/lxml:entry[1]"></xsl:variable><xsl:variable name="captionCol" select="count($firstRow/lxml:column[@name=$captionfield]/preceding-sibling::*)+1"></xsl:variable><xsl:variable name="codeCol" select="count($firstRow/lxml:column[@name=$codefield]/preceding-sibling::*)+1"></xsl:variable><xsl:variable name="selectorCol" select="count($firstRow/lxml:column[@name=$selectorField]/preceding-sibling::*)+1"></xsl:variable><xsl:for-each select="key('list',$listname)/lxml:list-entries/lxml:entry[($selectorField = '') or (./lxml:column[$selectorCol] = $selectorValueEq)]"><xsl:variable name="label_id" select="concat($id, position())"></xsl:variable><div><xsl:attribute name="class"><xsl:text>ui-radio</xsl:text><xsl:if test="$disabled"> ui-state-disabled</xsl:if></xsl:attribute><xsl:variable name="currentValue" select="lxml:column[$codeCol]"></xsl:variable><xsl:variable name="checked" select="boolean($value = $currentValue)"></xsl:variable><label for="{$label_id}"><xsl:attribute name="class"><xsl:text>ui-btn ui-corner-all ui-btn-inherit ui-btn-icon-left</xsl:text><xsl:choose><xsl:when test="$checked"> ui-radio-on</xsl:when><xsl:otherwise> ui-radio-off</xsl:otherwise></xsl:choose></xsl:attribute><xsl:value-of select="lxml:column[$captionCol]"></xsl:value-of></label><input id="{$label_id}" name="{$name}" type="radio" value="{$currentValue}" data-enhanced="true"><xsl:if test="$disabled"><xsl:attribute name="disabled">true</xsl:attribute></xsl:if><xsl:if test="$checked"><xsl:attribute name="checked">checked</xsl:attribute></xsl:if></input></div></xsl:for-each></xsl:template></xsl:transform>